<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AliExpress Akci√≥ Kalkul√°tor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 20px;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #d9534f; /* AliExpress piros */
        }
        h2 {
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
            margin-top: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            background-color: #fff;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
            vertical-align: top;
        }
        th {
            background-color: #f9f9f9;
            font-size: 14px;
        }
        td:nth-child(1) { width: 4%; text-align: center; }
        td:nth-child(2) { width: 36%; font-weight: bold; }
        td:nth-child(3) { width: 20%; }
        td:nth-child(4) { width: 20%; }
        td:nth-child(5) { width: 20%; }

        /* Kiemelt sorok */
        .tema-osszesito {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        tfoot tr {
            background-color: #333;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
        }

        /* Input mez≈ëk st√≠lusa */
        input[type="number"] {
            width: 90%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }
        
        /* A "var√°zslat": sz√≠nk√≥dok a helyes/helytelen v√°laszhoz */
        input.helyes {
            border: 2px solid #5cb85c;
            color: #5cb85c;
            font-weight: bold;
        }
        input.helytelen {
            border: 2px solid #d9534f;
            color: #d9534f;
        }
        
        /* Kisebb bet≈± a kimeneti mez≈ëknek, amiket a g√©p sz√°mol */
        .output {
            font-size: 14px;
            color: #555;
        }

    </style>
</head>
<body>

    <h1>üõí AliExpress Akci√≥ Kalkul√°tor</h1>
    <p><b>Feladat:</b> Keress√©tek meg az al√°bbi term√©keket az AliExpressen! √çrj√°tok be az <b>Eredeti √År</b>at (√°th√∫zott √°r) √©s az <b>Akci√≥s √År</b>at. Ezut√°n sz√°molj√°tok ki a <b>Megtakar√≠t√°s (%)</b> m√©rt√©k√©t, √©s √≠rj√°tok be a mez≈ëbe! Ha helyesen sz√°moltatok, a mez≈ë z√∂ldre v√°lt!</p>
    <p>A sz√°zal√©kot √≠gy sz√°mold: <b>( (Eredeti √År - Akci√≥s √År) / Eredeti √År ) * 100</b></p>

    <table>
        <thead>
            <tr>
                <th>Sorsz.</th>
                <th>Term√©k Megnevez√©s</th>
                <th>Eredeti √År (Ft)</th>
                <th>Akci√≥s √År (Ft)</th>
                <th>Megtakar√≠t√°s (%)</th>
            </tr>
        </thead>
        <tbody id="termek-lista">
            
            <tr class="kalkulal-sor" data-tema="1">
                <td>1.</td>
                <td>RGB LED szalag (5 m√©ter)</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 5000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 3500"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="1">
                <td>2.</td>
                <td>Gamer eg√©r (vezet√©kes, RGB)</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 6000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 4000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="1">
                <td>3.</td>
                <td>Fejhallgat√≥ tart√≥ √°llv√°ny</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 2500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="tema-osszesito" id="ossz-1">
                <td></td>
                <td>"Gamer Sarok" T√©ma √ñsszesen:</td>
                <td class="output" id="eredeti-ossz-1">0 Ft</td>
                <td class="output" id="akcios-ossz-1">0 Ft</td>
                <td class="output" id="szazalek-ossz-1">-%</td>
            </tr>

            <tr class="kalkulal-sor" data-tema="2">
                <td>4.</td>
                <td>V√≠z√°ll√≥ telefontart√≥ korm√°nyra</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 4000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 3000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="2">
                <td>5.</td>
                <td>USB-s biciklis l√°mpa szett</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 3500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2500"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="2">
                <td>6.</td>
                <td>Digit√°lis ker√©kp√°r-sebess√©gm√©r≈ë</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 5000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 4000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="tema-osszesito" id="ossz-2">
                <td></td>
                <td>"Bringa Tuning" T√©ma √ñsszesen:</td>
                <td class="output" id="eredeti-ossz-2">0 Ft</td>
                <td class="output" id="akcios-ossz-2">0 Ft</td>
                <td class="output" id="szazalek-ossz-2">-%</td>
            </tr>
            
            <tr class="kalkulal-sor" data-tema="3">
                <td>7.</td>
                <td>Mini tripod √°llv√°ny telefonhoz</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 2000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 1500"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="3">
                <td>8.</td>
                <td>Csiptet≈ës mikrofon</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 3000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="3">
                <td>9.</td>
                <td>Csiptethet≈ë "Ring light" k√∂rf√©ny</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 1500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 1000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="tema-osszesito" id="ossz-3">
                <td></td>
                <td>"Vlogger Pack" T√©ma √ñsszesen:</td>
                <td class="output" id="eredeti-ossz-3">0 Ft</td>
                <td class="output" id="akcios-ossz-3">0 Ft</td>
                <td class="output" id="szazalek-ossz-3">-%</td>
            </tr>

            <tr class="kalkulal-sor" data-tema="4">
                <td>10.</td>
                <td>Mini grav√≠roz√≥ toll szett</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 4500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 3000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="4">
                <td>11.</td>
                <td>√âkszerk√©sz√≠t≈ë alapcsomag</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 5000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 4000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="4">
                <td>12.</td>
                <td>"Tie-Dye" (batikol√≥) porfest√©k k√©szlet</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 3500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2800"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="tema-osszesito" id="ossz-4">
                <td></td>
                <td>"DIY M≈±hely" T√©ma √ñsszesen:</td>
                <td class="output" id="eredeti-ossz-4">0 Ft</td>
                <td class="output" id="akcios-ossz-4">0 Ft</td>
                <td class="output" id="szazalek-ossz-4">-%</td>
            </tr>

            <tr class="kalkulal-sor" data-tema="5">
                <td>13.</td>
                <td>GPS nyomk√∂vet≈ë bil√©ta</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 4000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2500"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="5">
                <td>14.</td>
                <td>Interakt√≠v, mag√°t√≥l mozg√≥ labda</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 3500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2800"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="5">
                <td>15.</td>
                <td>Lassan etet≈ë t√°l</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 2500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 1800"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="tema-osszesito" id="ossz-5">
                <td></td>
                <td>"Kis√°llat K√©nyeztet≈ë" T√©ma √ñsszesen:</td>
                <td class="output" id="eredeti-ossz-5">0 Ft</td>
                <td class="output" id="akcios-ossz-5">0 Ft</td>
                <td class="output" id="szazalek-ossz-5">-%</td>
            </tr>

            <tr class="kalkulal-sor" data-tema="6">
                <td>16.</td>
                <td>Multitool (10+ funkci√≥s)</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 6000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 4000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="6">
                <td>17.</td>
                <td>V√≠z√°ll√≥ t√°ska (5L "dry bag")</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 3000"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 2000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="kalkulal-sor" data-tema="6">
                <td>18.</td>
                <td>Paracord kark√∂t≈ë (ir√°nyt≈±vel)</td>
                <td><input type="number" class="eredeti-ar" placeholder="pl. 1500"></td>
                <td><input type="number" class="akcios-ar" placeholder="pl. 1000"></td>
                <td><input type="number" class="megtakaritas-szazalek" placeholder="?"></td>
            </tr>
            <tr class="tema-osszesito" id="ossz-6">
                <td></td>
                <td>"T√∫l√©l≈ë" T√©ma √ñsszesen:</td>
                <td class="output" id="eredeti-ossz-6">0 Ft</td>
                <td class="output" id="akcios-ossz-6">0 Ft</td>
                <td class="output" id="szazalek-ossz-6">-%</td>
            </tr>

        </tbody>
        <tfoot>
            <tr>
                <td colspan="2">V√âG√ñSSZES√çT√âS (Minden term√©k)</td>
                <td id="teljes-eredeti">0 Ft</td>
                <td id="teljes-akcios">0 Ft</td>
                <td id="teljes-megtakaritas">-%</td>
            </tr>
        </tfoot>
    </table>

    <script>
        // Ez a JavaScript k√≥d felel az "okoss√°g√©rt"

        // Figyelj√ºk az √∂sszes sort, ahol sz√°molni kell
        document.querySelectorAll('.kalkulal-sor').forEach(sor => {
            const eredetiInput = sor.querySelector('.eredeti-ar');
            const akciosInput = sor.querySelector('.akcios-ar');
            const szazalekInput = sor.querySelector('.megtakaritas-szazalek');

            // Amint b√°rmelyik mez≈ëbe √≠r a di√°k, ez a funkci√≥ lefut
            function ellenorzesEsSzamolas() {
                const eredetiAr = parseFloat(eredetiInput.value);
                const akciosAr = parseFloat(akciosInput.value);
                const diakSzazalek = parseFloat(szazalekInput.value);

                // Sz√≠n elt√°vol√≠t√°sa, ha √ºres valamelyik mez≈ë
                if (!eredetiAr || !akciosAr) {
                    szazalekInput.classList.remove('helyes', 'helytelen');
                    frissitOsszesitot(); // √ñsszes√≠t≈ë friss√≠t√©se
                    return;
                }
                
                // 1. Helyes sz√°zal√©k kisz√°m√≠t√°sa a h√°tt√©rben
                // ( (Eredeti - Akci√≥s) / Eredeti ) * 100
                const helyesSzazalek = ((eredetiAr - akciosAr) / eredetiAr) * 100;

                // 2. Ellen≈ërz√©s, ha a di√°k m√°r be√≠rt valamit a sz√°zal√©k mez≈ëbe
                if (!isNaN(diakSzazalek)) {
                    // Kerek√≠t√ºnk 1 tizedesjegyre az √∂sszehasonl√≠t√°sn√°l, hogy a 33.3 √©s a 33.333 is j√≥nak t≈±nj√∂n
                    const diakSzamKerekitve = Math.round(diakSzazalek * 10) / 10;
                    const helyesSzamKerekitve = Math.round(helyesSzazalek * 10) / 10;

                    if (diakSzamKerekitve === helyesSzamKerekitve) {
                        szazalekInput.classList.add('helyes');
                        szazalekInput.classList.remove('helytelen');
                    } else {
                        szazalekInput.classList.add('helytelen');
                        szazalekInput.classList.remove('helyes');
                    }
                } else {
                    // Ha nincs be√≠rva sz√°zal√©k, ne legyen sz√≠nes
                    szazalekInput.classList.remove('helyes', 'helytelen');
                }
                
                // 3. √ñsszes√≠t≈ë friss√≠t√©se minden gombnyom√°sra
                frissitOsszesitot();
            }

            // Esem√©nyfigyel≈ëk hozz√°ad√°sa mindh√°rom mez≈ëh√∂z
            eredetiInput.addEventListener('input', ellenorzesEsSzamolas);
            akciosInput.addEventListener('input', ellenorzesEsSzamolas);
            szazalekInput.addEventListener('input', ellenorzesEsSzamolas);
        });

        // Ez a funkci√≥ friss√≠ti a sz√ºrke "T√©ma √ñsszesen" sorokat √©s a l√°bl√©cet
        function frissitOsszesitot() {
            let vegEredeti = 0;
            let vegAkcios = 0;

            // T√©m√°k (1-t≈ël 6-ig) √∂sszes√≠t√©se
            for (let i = 1; i <= 6; i++) {
                let temaEredeti = 0;
                let temaAkcios = 0;
                
                document.querySelectorAll(`[data-tema="${i}"]`).forEach(sor => {
                    const eredetiAr = parseFloat(sor.querySelector('.eredeti-ar').value) || 0;
                    const akciosAr = parseFloat(sor.querySelector('.akcios-ar').value) || 0;
                    temaEredeti += eredetiAr;
                    temaAkcios += akciosAr;
                });
                
                // Be√≠rjuk az √©rt√©keket a t√©ma √∂sszes√≠t≈ë sor√°ba
                document.getElementById(`eredeti-ossz-${i}`).textContent = temaEredeti.toLocaleString('hu-HU') + ' Ft';
                document.getElementById(`akcios-ossz-${i}`).textContent = temaAkcios.toLocaleString('hu-HU') + ' Ft';
                
                let temaSzazalek = 0;
                if(temaEredeti > 0) {
                    temaSzazalek = ((temaEredeti - temaAkcios) / temaEredeti) * 100;
                }
                document.getElementById(`szazalek-ossz-${i}`).textContent = temaSzazalek.toFixed(1) + ' %';
                
                // Hozz√°adjuk a v√©g√∂sszes√≠t√©shez
                vegEredeti += temaEredeti;
                vegAkcios += temaAkcios;
            }
            
            // V√©g√∂sszes√≠t√©s (l√°bl√©c) friss√≠t√©se
            document.getElementById('teljes-eredeti').textContent = vegEredeti.toLocaleString('hu-HU') + ' Ft';
            document.getElementById('teljes-akcios').textContent = vegAkcios.toLocaleString('hu-HU') + ' Ft';
            
            let vegSzazalek = 0;
            if(vegEredeti > 0) {
                 vegSzazalek = ((vegEredeti - vegAkcios) / vegEredeti) * 100;
            }
            document.getElementById('teljes-megtakaritas').textContent = vegSzazalek.toFixed(1) + ' %';
        }

    </script>

</body>
</html>
